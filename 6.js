(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{496:function(e,a,t){e.exports={"ant-upload-select-picture-card":"upload__ant-upload-select-picture-card--239Le","ant-upload-text":"upload__ant-upload-text--RuF0V",imgWrapper:"upload__imgWrapper--1iHny",container:"upload__container--1xuEp",preview:"upload__preview--2a7SN",uploaderWrapper:"upload__uploaderWrapper--39YqH"}},572:function(e,a,t){"use strict";t.r(a);t(490);var n,r=t(500),i=t.n(r),o=(t(468),t(34)),l=t.n(o),c=t(12),p=t.n(c),d=t(14),s=t.n(d),u=t(16),m=t.n(u),g=t(17),v=t.n(g),h=t(18),f=t.n(h),w=(t(75),t(26)),R=t.n(w),b=t(11),E=t(496),U=t.n(E),y=t(497),_=t.n(y);t(498),t(499);function C(e){var a="image/jpeg"===e.type,t=e.size/1024/1024<2;return t||R.a.error("Image must smaller than 2MB!"),a&&t}var L=Object(b.b)("chatStore")(n=Object(b.c)(n=function(e){function a(){var e,t;p()(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=m()(this,(e=v()(a)).call.apply(e,[this].concat(r)))).state={loading:!1},t.getCropper=function(){var e=document.getElementById("image"),a=new _.a(e,{aspectRatio:1,viewMode:1,background:!1,zoomable:!1,guides:!1,crop:function(e){var n=a.getCroppedCanvas({width:40,height:40});t.avatarBase64=n.toDataURL("image/png",.3),t.props.updateIMg(t.avatarBase64)}})},t.handleChange=function(e){"uploading"!==e.file.status?"done"===e.file.status&&function(e,a){var t=new FileReader;t.addEventListener("load",function(){return a(t.result)}),t.readAsDataURL(e)}(e.file.originFileObj,function(e){return t.setState({imageUrl:e,loading:!1},t.getCropper)}):t.setState({loading:!0})},t}return f()(a,e),s()(a,[{key:"dataURLtoBlob",value:function(e){for(var a=e.split(","),t=a[0].match(/:(.*?);/)[1],n=atob(a[1]),r=n.length,i=new Uint8Array(r);r--;)i[r]=n.charCodeAt(r);return URL.createObjectURL(new Blob([i],{type:t}))}},{key:"render",value:function(){var e=React.createElement("div",null,React.createElement(l.a,{type:this.state.loading?"loading":"plus"}),React.createElement("div",{className:"ant-upload-text"},"Upload")),a=this.state.imageUrl;return React.createElement("div",null,React.createElement("div",{className:U.a.uploaderWrapper},React.createElement(i.a,{name:"avatar",listType:"picture-card",className:"avatar-uploader",showUploadList:!1,action:"https://www.mocky.io/v2/5cc8019d300000980a055e76",beforeUpload:C,onChange:this.handleChange},a?React.createElement("img",{src:a,alt:"avatar"}):e)),React.createElement("div",{className:"container"}),React.createElement("div",{className:U.a.imgWrapper},React.createElement("img",{id:"image",src:this.state.imageUrl?this.state.imageUrl:""})))}}]),a}(React.Component))||n)||n;a.default=L}}]);